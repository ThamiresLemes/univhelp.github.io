{"version":3,"sources":["icons/picker.min.js"],"names":["$","window","document","undefined","pluginName","dataPlugin","currentItem","defaults","selector","onSelect","Plugin","element","this","options","extend","container","prototype","init","self","selectedIcon","iconsDiv","iconsSearch","find","fontList","icons","colorBoxes","customization","preview","on","e","preventDefault","stopImmediatePropagation","showPicker","mouseleave","fromElement","length","hidePicker","click","selectIcon","keyup","keyword","val","hide","filter","show","_scrollToIcon","attr","insertIcon","change","previewIcon","removeClass","addClass","next","prop","trigger","tabs","parent","appendTo","getIconProps","iconClass","each","serializeArray","i","field","value","slideUp","icon","isEmptyObject","iconHtml","html","call","children","setCurrentIcon","currIcon","$inputs","get","reset","iconInfo","split","shift","$selects","color","prev","pos","offset","height","slideToggle","top","left","center","adjustment","animate","scrollTop","position","destroy","data","fn","arg","args","instance","Array","slice","arguments","apply","error","jQuery"],"mappings":"CAMC,SAAUA,EAAGC,EAAQC,EAAUC,GAC/B,aAEA,IAAIC,EAAa,aACbC,EAAa,UAAYD,EACzBE,EAAc,GACdC,EAAW,CACdC,SAAU,GACVC,SAAU,cAIPC,EAAS,SAASC,GACrBC,KAAKC,QAAUb,EAAEc,OAAO,GAAIP,GAC5BK,KAAKG,UAAYJ,GAGlBD,EAAOM,UAAY,CAElBC,KAAM,SAASJ,GACd,IAAIK,EAAON,KACXA,KAAKO,aAAe,GACpBP,KAAKQ,SAAWpB,EAAE,gBAClBY,KAAKS,YAAcT,KAAKQ,SAASE,KAAK,iBACtCV,KAAKW,SAAWX,KAAKQ,SAASE,KAAK,oBACnCV,KAAKY,MAAQZ,KAAKW,SAASD,KAAK,gBAChCV,KAAKa,WAAab,KAAKQ,SAASE,KAAK,0BACrCV,KAAKc,cAAgBd,KAAKQ,SAASE,KAAK,uBACxCV,KAAKe,QAAUf,KAAKQ,SAASE,KAAK,wBAElCtB,EAAEc,OAAOF,KAAKC,QAASA,GAEvBD,KAAKG,UAAUa,GAAG,QAAShB,KAAKC,QAAQL,SAAU,SAASqB,GAC1DA,EAAEC,iBACFD,EAAEE,2BACFb,EAAKP,QAAUX,EAAEY,MACjBM,EAAKc,WAAWd,EAAKP,WAGtBC,KAAKQ,SAASa,WAAW,SAASJ,GAC5BA,EAAEK,YAAYC,QAClBjB,EAAKkB,eAIPxB,KAAKY,MAAMF,KAAK,KAAKe,MAAM,SAASR,GACnCA,EAAEC,iBACFD,EAAEE,2BACFb,EAAKoB,WAAWtC,EAAEY,SAGnBA,KAAKS,YAAYkB,MAAM,WACtB,IAAIC,EAAUxC,EAAEY,MAAM6B,MAClBD,EAAQL,OACXjB,EAAKM,MAAMkB,OAAOC,OAAO,qBAAuBH,EAAU,MAAMI,OAEhE1B,EAAKM,MAAMoB,SAIbhC,KAAKQ,SAASE,KAAK,wBAAwBA,KAAK,KAAKe,MAAM,SAASR,GACnEA,EAAEC,iBACFD,EAAEE,2BACFb,EAAKG,YAAYoB,IAAI,IACrBvB,EAAKM,MAAMoB,OACX1B,EAAK2B,cAAc7C,EAAEA,EAAEY,MAAMkC,KAAK,YAGnClC,KAAKQ,SAASE,KAAK,uBAAuBe,MAAM,SAASR,GACxDA,EAAEC,iBACFD,EAAEE,2BACFb,EAAK6B,WAAW7B,EAAKC,gBAGtBP,KAAKQ,SAASE,KAAK,qBAAqBe,MAAM,SAASR,GACtDA,EAAEC,iBACFD,EAAEE,2BACFb,EAAK6B,WAAW,MAGjBnC,KAAKc,cAAcJ,KAAK,oBAAoB0B,OAAO,SAASnB,GAC3DA,EAAEC,iBACFZ,EAAK+B,gBAGNrC,KAAKa,WAAWY,MAAM,SAASR,GAC9BA,EAAEC,iBACFZ,EAAKO,WAAWyB,YAAY,YAC5BlD,EAAEY,MAAMuC,SAAS,YAAYC,OAAOC,KAAK,UAAW,WAAWC,QAAQ,SACvEpC,EAAK+B,gBAGN,IAAIM,EAAOvD,EAAE,cAAcuD,OAAOC,SAGlCD,EAAKjC,KAAK,wEAAwE4B,YAAY,+BAA+BC,SAAS,oBAGtII,EAAKjC,KAAK,mCAAmCmC,SAAS,uBAGvDC,aAAc,SAASC,GAOtB,OANIA,GACH3D,EAAE4D,KAAKhD,KAAKc,cAAcmC,iBAAkB,SAASC,EAAGC,GACvDJ,GAAcI,EAAW,MAAI,IAAMA,EAAMC,MAAQ,KAI5CL,GAGRvB,WAAY,WACXxB,KAAKQ,SAAS6C,UACdrD,KAAKD,QAAQuC,YAAY,eAG1BH,WAAY,SAASmB,GACpB,IAAqC,IAAjClE,EAAEmE,cAAc7D,GAAuB,CAC1C,IAAIqD,EAAY/C,KAAK8C,aAAaQ,GAC9BE,EAAW,EAAc,aAAeT,EAAY,SAAW,GAEnErD,EAAY+D,KAAKD,GACjBxD,KAAKC,QAAQJ,SAAS6D,KAAK1D,KAAMN,EAAaqD,EAAWS,GAG1DxD,KAAKwB,cAGNa,YAAa,WACZrC,KAAKe,QAAQ4C,SAAS,KAAKzB,KAAK,QAASlC,KAAK8C,aAAa9C,KAAKO,gBAGjEmB,WAAY,SAAS3B,GACpBC,KAAKW,SAASD,KAAK,KAAK4B,YAAY,iBACpCtC,KAAKO,aAAeR,EAAQmC,KAAK,SACjClC,KAAKqC,YAAYrC,KAAKO,cACtBR,EAAQ6C,SAASL,SAAS,kBAG3BqB,eAAgB,SAAS7D,GACxB,IAAI8D,EAAW9D,EAAQW,KAAK,KACxBoD,EAAU9D,KAAKc,cAAcJ,KAAK,UAQtC,GANAV,KAAKa,WAAWyB,YAAY,YAC5BtC,KAAKW,SAASD,KAAK,KAAK4B,YAAY,iBACpCtC,KAAKc,cAAciD,IAAI,GAAGC,QAC1BhE,KAAKc,cAAcJ,KAAK,UAAUmB,IAAI,IACtC7B,KAAKO,aAAe,GAEE,EAAlBsD,EAAStC,OAAY,CACxB,IAAI0C,EAAWJ,EAAS3B,KAAK,SAASgC,MAAM,KAC5CD,EAASE,QAET,IAAIpB,EAAYkB,EAASE,QACrBb,EAAOtD,KAAKW,SAASD,KAAK,IAAMqC,GAEpC,GAAkB,EAAdO,EAAK/B,OAAY,CACpB+B,EAAKV,SAASL,SAAS,iBAEvBvC,KAAKO,aAAe,MAAQwC,EAC5B/C,KAAKiC,cAAcqB,GAAM,GAEzB,IAAIc,EAAWN,EAAQ/B,OAAO,UAAU4B,WAExCvE,EAAE4D,KAAKiB,EAAU,SAASf,EAAGrB,GAC5BuC,EAASrC,OAAO,UAAYF,EAAM,KAAKK,KAAK,YAAY,GACxD4B,EAAQ/B,OAAO,UAAYF,EAAM,KAAKK,KAAK,WAAW,KAGvD,IAAImC,EAAQrE,KAAKc,cAAcJ,KAAK,6BACjB,EAAf2D,EAAM9C,QACT8C,EAAMC,OAAO/B,SAAS,aAKzBvC,KAAKqC,eAGNjB,WAAY,SAASrB,GACpB,IAAIwE,EAAMxE,EAAQyE,SACdC,EAAS1E,EAAQ0E,SAErBzE,KAAKD,QAAQuC,YAAY,cACzBtC,KAAKQ,SAASkE,cAAcF,OAAO,CAClCG,IAAKJ,EAAII,IAAMF,EACfG,KAAML,EAAIK,KAAO,KAElB5E,KAAK4D,eAAe7D,GACpBL,EAAcK,EAAQwC,SAAS,eAGhCN,cAAe,SAASlC,EAAS8E,GAChC,IAAIC,EAAa,GACbD,IACHC,GAAe9E,KAAKW,SAAS8D,SAAW,GAEzCzE,KAAKW,SAASoE,QAAQ,CACrBC,UAAWhF,KAAKW,SAASqE,YAAcjF,EAAQkF,WAAWN,IAAMG,GAC9D,MAGJI,QAAS,WACRlF,KAAKD,QAAQoF,KAAK1F,EAAY,QAIhCL,EAAEgG,GAAG5F,GAAc,SAAS6F,GAC3B,IAAIC,EACAC,EAOJ,GALMvF,KAAKmF,KAAK1F,aAAuBK,GACtCE,KAAKmF,KAAK1F,EAAY,IAAIK,EAAOE,YApNnC,KAuNCuF,EAAWvF,KAAKmF,KAAK1F,IAIpB,GAFA8F,EAASxF,QAAUC,UAEA,IAARqF,GAAsC,iBAARA,EACX,mBAAlBE,EAASlF,MACnBkF,EAASlF,KAAKgF,OAET,CAAA,GAAmB,iBAARA,GAA6C,mBAAlBE,EAASF,GAErD,OADAC,EAAOE,MAAMpF,UAAUqF,MAAM/B,KAAKgC,UAAW,GACtCH,EAASF,GAAKM,MAAMJ,EAAUD,GAErClG,EAAEwG,MAAM,UAAYP,EAAM,6BAA+B7F,KAnO5D,CAuOEqG,OAAQxG,OAAQC","file":"picker.min.js","sourcesContent":["/*!\n * Sitemaker iconPicker\n * Author: @blitze\n * Licensed under the GPL license\n */\n\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\tvar pluginName = 'iconPicker';\n\tvar dataPlugin = 'plugin_' + pluginName;\n\tvar currentItem = {};\n\tvar defaults = {\n\t\tselector: '',\n\t\tonSelect: function() {}\n\t};\n\n\t// The actual plugin constructor\n\tvar Plugin = function(element) {\n\t\tthis.options = $.extend({}, defaults);\n\t\tthis.container = element;\n\t};\n\n\tPlugin.prototype = {\n\n\t\tinit: function(options) {\n\t\t\tvar self = this;\n\t\t\tthis.selectedIcon = '';\n\t\t\tthis.iconsDiv = $('#icon-picker');\n\t\t\tthis.iconsSearch = this.iconsDiv.find('#icons-search');\n\t\t\tthis.fontList = this.iconsDiv.find('#icons-font-list');\n\t\t\tthis.icons = this.fontList.find('.filter-icon');\n\t\t\tthis.colorBoxes = this.iconsDiv.find('.icons-color-container');\n\t\t\tthis.customization = this.iconsDiv.find('#icon-customization');\n\t\t\tthis.preview = this.iconsDiv.find('#icon-picker-preview');\n\n\t\t\t$.extend(this.options, options);\n\n\t\t\tthis.container.on('click', this.options.selector, function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tself.element = $(this);\n\t\t\t\tself.showPicker(self.element);\n\t\t\t});\n\n\t\t\tthis.iconsDiv.mouseleave(function(e) {\n\t\t\t\tif (!e.fromElement.length) {\n\t\t\t\t\tself.hidePicker();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.icons.find('i').click(function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tself.selectIcon($(this));\n\t\t\t});\n\n\t\t\tthis.iconsSearch.keyup(function() {\n\t\t\t\tvar keyword = $(this).val();\n\t\t\t\tif (keyword.length) {\n\t\t\t\t\tself.icons.hide().filter('div[data-filter*=\"' + keyword + '\"]').show();\n\t\t\t\t} else {\n\t\t\t\t\tself.icons.show();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.iconsDiv.find('#icons-font-cat-list').find('a').click(function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tself.iconsSearch.val('');\n\t\t\t\tself.icons.show();\n\t\t\t\tself._scrollToIcon($($(this).attr('href')));\n\t\t\t});\n\n\t\t\tthis.iconsDiv.find('#icon-picker-insert').click(function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tself.insertIcon(self.selectedIcon);\n\t\t\t});\n\n\t\t\tthis.iconsDiv.find('#icon-picker-none').click(function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tself.insertIcon('');\n\t\t\t});\n\n\t\t\tthis.customization.find('.icons-customize').change(function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tself.previewIcon();\n\t\t\t});\n\n\t\t\tthis.colorBoxes.click(function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tself.colorBoxes.removeClass('selected');\n\t\t\t\t$(this).addClass('selected').next().prop('checked', 'checked').trigger('click');\n\t\t\t\tself.previewIcon();\n\t\t\t});\n\n\t\t\tvar tabs = $('#icons-tab').tabs().parent();\n\n\t\t\t// fix the classes\n\t\t\ttabs.find('.icons-bottom-tabs .ui-tabs-nav, .icons-bottom-tabs .ui-tabs-nav > *').removeClass('ui-corner-all ui-corner-top').addClass('ui-corner-bottom');\n\n\t\t\t// move the nav to the bottom\n\t\t\ttabs.find('.icons-bottom-tabs .ui-tabs-nav').appendTo('.icons-bottom-tabs');\n\t\t},\n\n\t\tgetIconProps: function(iconClass) {\n\t\t\tif (iconClass) {\n\t\t\t\t$.each(this.customization.serializeArray(), function(i, field) {\n\t\t\t\t\ticonClass += (field.value) ? ' ' + field.value : '';\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn iconClass;\n\t\t},\n\n\t\thidePicker: function() {\n\t\t\tthis.iconsDiv.slideUp();\n\t\t\tthis.element.removeClass('icons-drop');\n\t\t},\n\n\t\tinsertIcon: function(icon) {\n\t\t\tif ($.isEmptyObject(currentItem) !== true) {\n\t\t\t\tvar iconClass = this.getIconProps(icon);\n\t\t\t\tvar iconHtml = (iconClass) ? '<i class=\"' + iconClass + '\"></i>' : '';\n\n\t\t\t\tcurrentItem.html(iconHtml);\n\t\t\t\tthis.options.onSelect.call(this, currentItem, iconClass, iconHtml);\n\t\t\t}\n\n\t\t\tthis.hidePicker();\n\t\t},\n\n\t\tpreviewIcon: function() {\n\t\t\tthis.preview.children('i').attr('class', this.getIconProps(this.selectedIcon));\n\t\t},\n\n\t\tselectIcon: function(element) {\n\t\t\tthis.fontList.find('a').removeClass('icon-selected');\n\t\t\tthis.selectedIcon = element.attr('class');\n\t\t\tthis.previewIcon(this.selectedIcon);\n\t\t\telement.parent().addClass('icon-selected');\n\t\t},\n\n\t\tsetCurrentIcon: function(element) {\n\t\t\tvar currIcon = element.find('i');\n\t\t\tvar $inputs = this.customization.find(':input');\n\n\t\t\tthis.colorBoxes.removeClass('selected');\n\t\t\tthis.fontList.find('a').removeClass('icon-selected');\n\t\t\tthis.customization.get(0).reset();\n\t\t\tthis.customization.find('select').val('');\n\t\t\tthis.selectedIcon = '';\n\n\t\t\tif (currIcon.length > 0) {\n\t\t\t\tvar iconInfo = currIcon.attr('class').split(' ');\n\t\t\t\ticonInfo.shift();\n\n\t\t\t\tvar iconClass = iconInfo.shift();\n\t\t\t\tvar icon = this.fontList.find('.' + iconClass);\n\n\t\t\t\tif (icon.length > 0) {\n\t\t\t\t\ticon.parent().addClass('icon-selected');\n\n\t\t\t\t\tthis.selectedIcon = 'fa ' + iconClass;\n\t\t\t\t\tthis._scrollToIcon(icon, true);\n\n\t\t\t\t\tvar $selects = $inputs.filter('select').children();\n\n\t\t\t\t\t$.each(iconInfo, function(i, val) {\n\t\t\t\t\t\t$selects.filter('[value=' + val + ']').attr('selected', true);\n\t\t\t\t\t\t$inputs.filter('[value=' + val + ']').attr('checked', true);\n\t\t\t\t\t});\n\n\t\t\t\t\tvar color = this.customization.find('input[name=color]:checked');\n\t\t\t\t\tif (color.length > 0) {\n\t\t\t\t\t\tcolor.prev().addClass('selected');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.previewIcon();\n\t\t},\n\n\t\tshowPicker: function(element) {\n\t\t\tvar pos = element.offset();\n\t\t\tvar height = element.height();\n\n\t\t\tthis.element.removeClass('icons-drop');\n\t\t\tthis.iconsDiv.slideToggle().offset({\n\t\t\t\ttop: pos.top + height,\n\t\t\t\tleft: pos.left - 15\n\t\t\t});\n\t\t\tthis.setCurrentIcon(element);\n\t\t\tcurrentItem = element.addClass('icons-drop');\n\t\t},\n\n\t\t_scrollToIcon: function(element, center) {\n\t\t\tvar adjustment = 20;\n\t\t\tif (center) {\n\t\t\t\tadjustment = -(this.fontList.height() / 2);\n\t\t\t}\n\t\t\tthis.fontList.animate({\n\t\t\t\tscrollTop: this.fontList.scrollTop() + element.position().top + adjustment\n\t\t\t}, 1000);\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tthis.element.data(dataPlugin, null);\n\t\t}\n\t};\n\n\t$.fn[pluginName] = function(arg) {\n\t\tvar args;\n\t\tvar instance;\n\n\t\tif (!(this.data(dataPlugin) instanceof Plugin)) {\n\t\t\tthis.data(dataPlugin, new Plugin(this));\n\t\t}\n\n\t\tinstance = this.data(dataPlugin);\n\t\tif (instance !== undefined) {\n\t\t\tinstance.element = this;\n\n\t\t\tif (typeof arg === 'undefined' || typeof arg === 'object') {\n\t\t\t\tif (typeof instance.init === 'function') {\n\t\t\t\t\tinstance.init(arg);\n\t\t\t\t}\n\t\t\t} else if (typeof arg === 'string' && typeof instance[arg] === 'function') {\n\t\t\t\targs = Array.prototype.slice.call(arguments, 1);\n\t\t\t\treturn instance[arg].apply(instance, args);\n\t\t\t} else {\n\t\t\t\t$.error('Method ' + arg + ' does not exist on jQuery.' + pluginName);\n\t\t\t}\n\t\t}\n\t};\n})(jQuery, window, document);"]}